/*! For license information please see main.b03cec7c.chunk.js.LICENSE.txt */
(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{12:function(e,t,a){e.exports={"game-container":"gameControllerStyles_game-container__1kRNe",player:"gameControllerStyles_player__1Ae0B",winnerPanel:"gameControllerStyles_winnerPanel__8tltV",restart:"gameControllerStyles_restart__23Pzu"}},14:function(e,t,a){e.exports={title:"headerStyles_title__1wRWs",disc_div:"headerStyles_disc_div__2tlVB"}},21:function(e,t,a){},24:function(e,t,a){"use strict";a.r(t);var i=a(2),n=a.n(i),r=a(15),s=a.n(r),c=(a(21),a(8)),o=a(6),l=a(7),h=a(3),u=a(10),d=a(9),p=a(4),m=a.n(p),b=a(1),v=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var i;return Object(o.a)(this,a),(i=t.call(this,e)).state={},i}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.isGameOver,i=e.player,n=e.dimension,r=e.changeDimension,s=e.shipsPositioned,c=e.turn;return Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{className:m.a.title,children:t}),!a&&("Human"===i.playerName?Object(b.jsxs)("div",{className:m.a.panel,children:[5!==s?Object(b.jsx)("p",{className:m.a.prompt,children:"position your ships"}):Object(b.jsx)("p",{className:m.a.prompt,children:"Attack Computer's Board"}),5!==s?Object(b.jsxs)("div",{children:[Object(b.jsxs)("button",{className:m.a.btn,onClick:function(){r()},children:["Dimension : ",n," "]}),Object(b.jsxs)("p",{className:m.a.pill,children:["ships left to place: ",5-s]})]}):Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:m.a["turn-pill"],children:"Human"===c?"your turn":"waiting.."}),Object(b.jsxs)("p",{className:m.a.pill,children:["Ships Remaining: ",5-i.playerBoard.sunkShips.length]})]})]}):Object(b.jsxs)("div",{className:m.a.panel,children:[5!==s?Object(b.jsx)("p",{className:m.a.prompt,children:"waiting..."}):Object(b.jsx)("p",{className:m.a.prompt,children:"click on this board to sink their ships"}),5!==s?Object(b.jsx)("div",{children:"waiting for you to position your ships"}):Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:m.a["turn-pill"],children:"Computer"===c?"your turn":"waiting.."}),Object(b.jsxs)("p",{className:m.a.pill,children:["Ships Remaining: ",5-i.playerBoard.sunkShips.length]})]})]}))]})}}]),a}(i.Component),f=a(16),y=a(12),j=a.n(y),O=a(11),k=a(5),g=a.n(k),w=a(23),S=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var i;return Object(o.a)(this,a),(i=t.call(this,e)).state={},i.boardRef=n.a.createRef(),i.renderMisses=i.renderMisses.bind(Object(h.a)(i)),i.renderHits=i.renderHits.bind(Object(h.a)(i)),i.renderSunkShips=i.renderSunkShips.bind(Object(h.a)(i)),i.showPreview=i.showPreview.bind(Object(h.a)(i)),i}return Object(l.a)(a,[{key:"renderMisses",value:function(){var e=this;this.props.player.playerBoard.misses.forEach((function(t){e.boardRef.current.children[t].firstElementChild.classList.add(g.a.miss)}))}},{key:"renderHits",value:function(){var e=this;this.props.player.playerBoard.hits.forEach((function(t){e.boardRef.current.children[t].firstElementChild.classList.add(g.a.hit)}))}},{key:"renderSunkShips",value:function(){var e=this;this.props.player.playerBoard.sunkShips.forEach((function(t){var a,i=Object(c.a)(t);try{for(i.s();!(a=i.n()).done;){var n=a.value;e.boardRef.current.children[n].firstElementChild.classList.add(g.a.sunk)}}catch(r){i.e(r)}finally{i.f()}}))}},{key:"showPreview",value:function(){var e=this,t=this.boardRef.current.children;Array.from(t).forEach((function(t,a){e.props.previewState.previewArray.includes(a)?t.firstElementChild.classList.toggle(g.a.preview,!0):t.firstElementChild.classList.toggle(g.a.preview,!1)}))}},{key:"componentDidMount",value:function(){"Computer"===this.props.player.playerName&&this.props.randoPlacement()}},{key:"componentDidUpdate",value:function(){var e=this;if("Human"===this.props.player.playerName){var t,a=Object(c.a)(this.props.player.playerBoard.fleet);try{for(a.s();!(t=a.n()).done;){t.value.coordinates.forEach((function(t){e.boardRef.current.children[t].firstElementChild.classList.add(g.a.ship)}))}}catch(i){a.e(i)}finally{a.f()}}this.renderMisses(),this.renderHits(),this.renderSunkShips(),"Human"===this.props.player.playerName&&this.showPreview(this.props.previewState)}},{key:"render",value:function(){var e=this.props,t=e.player,a=e.clickHandler,i=e.dimension,n=e.setPreview,r=e.resetPreview,s=e.playerPlacement;return"Human"===t.playerName?Object(b.jsx)("div",{ref:this.boardRef,id:t.playerName+"-board",className:w(g.a["game-board"],"board"),onMouseOut:function(){r()},children:t.playerBoard.board.map((function(e,a){return Object(b.jsx)("div",{id:e,className:g.a.block,children:Object(b.jsx)("button",{className:g.a.btn,onClick:function(){s()},onMouseOver:function(){n({position:a,dimension:i})},children:t.playerBoard.misses.includes(a)&&Object(b.jsx)(O.c,{})||t.playerBoard.sunkShips.find((function(e){return e.includes(a)}))&&Object(b.jsx)(O.b,{})||t.playerBoard.hits.includes(a)&&Object(b.jsx)(O.a,{})})},e+a)}))}):Object(b.jsx)("div",{ref:this.boardRef,id:t.playerName+"-board",className:w(g.a["game-board"],"board"),children:t.playerBoard.board.map((function(e,i){return Object(b.jsx)("div",{id:e,className:g.a.block,children:Object(b.jsx)("button",{className:g.a.btn,onClick:function(e){a(e.target,i)},children:t.playerBoard.misses.includes(i)&&Object(b.jsx)(O.c,{})||t.playerBoard.sunkShips.find((function(e){return e.includes(i)}))&&Object(b.jsx)(O.b,{})||t.playerBoard.hits.includes(i)&&Object(b.jsx)(O.a,{})})},e+i)}))})}}]),a}(i.Component),_=function(){function e(t){Object(o.a)(this,e);this.length=t,this.shipStructure=new Array(t).fill(null),this.shipClass=function(e){var t;switch(e){case 5:t="carrier";break;case 4:t="battleship";break;case 3:t="submarine";break;default:t="destroyer"}return t}(this.length)}return Object(l.a)(e,[{key:"hit",value:function(e){return e>=0&&e<=this.length-1&&(this.shipStructure[e]="hit",!0)}},{key:"getStructuralIntegrityAt",value:function(e){return this.shipStructure[e]}},{key:"isSunk",value:function(){return this.shipStructure.every((function(e){return"hit"===e}))}}]),e}(),B=function(){function e(){Object(o.a)(this,e),this.board=["1A","1B","1C","1D","1E","1F","1G","1H","1I","1J","2A","2B","2C","2D","2E","2F","2G","2H","2I","2J","3A","3B","3C","3D","3E","3F","3G","3H","3I","3J","4A","4B","4C","4D","4E","4F","4G","4H","4I","4J","5A","5B","5C","5D","5E","5F","5G","5H","5I","5J","6A","6B","6C","6D","6E","6F","6G","6H","6I","6J","7A","7B","7C","7D","7E","7F","7G","7H","7I","7J","8A","8B","8C","8D","8E","8F","8G","8H","8I","8J","9A","9B","9C","9D","9E","9F","9G","9H","9I","9J","10A","10B","10C","10D","10E","10F","10G","10H","10I","10J"],this.fleet=[],this.hits=[],this.misses=[],this.sunkShips=[]}return Object(l.a)(e,[{key:"placeShip",value:function(e,t){var a=[],i=this.board.indexOf(t.position);if("vertical"===t.dimension){if(i+10*(e.length-1)>99)return"pick different coordinates";for(;a.length!==e.length;)a.push(i),i+=10}else if("horizontal"===t.dimension){var n=10*(parseInt(i/10,10)+1);if(n-=1,i+e.length-1>n)return"pick different coordinates";for(;a.length!==e.length;)a.push(i),i+=1}if(this.isShared(a))return"you have shared coordinates";e.coordinates=a,this.fleet.push(e)}},{key:"isShared",value:function(e){var t=this,a=!1;return e.forEach((function(e){var i,n=Object(c.a)(t.fleet);try{for(n.s();!(i=n.n()).done;){i.value.coordinates.includes(e)&&(a=!0)}}catch(r){n.e(r)}finally{n.f()}})),a}},{key:"receiveAttack",value:function(e){var t,a=this.board.indexOf(e),i=!1,n=Object(c.a)(this.fleet);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.coordinates.includes(a)){var s=r.coordinates.indexOf(a);r.hit(s),this.hits.push(a),i=!0,r.isSunk()&&this.sunkShips.push(r.coordinates)}}}catch(o){n.e(o)}finally{n.f()}i||this.misses.push(a)}},{key:"isFleetSunk",value:function(){return this.fleet.every((function(e){return!0===e.isSunk()}))}}]),e}(),x=function e(t,a){Object(o.a)(this,e),this.playerName=t,this.playerBoard=a},P=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var i;return Object(o.a)(this,a),(i=t.call(this,e)).state={human:new x("Human",new B),computer:new x("Computer",new B),gameOver:!1,turn:"Human",dimension:"horizontal",preview:{previewArray:[],isPreviewValid:null},shipsPositioned:0},i.randomPlacement=i.randomPlacement.bind(Object(h.a)(i)),i.clickHandler=i.clickHandler.bind(Object(h.a)(i)),i.compsTurn=i.compsTurn.bind(Object(h.a)(i)),i.isGameOver=i.isGameOver.bind(Object(h.a)(i)),i.changeTurn=i.changeTurn.bind(Object(h.a)(i)),i.disableButtons=i.disableButtons.bind(Object(h.a)(i)),i.enableButtons=i.enableButtons.bind(Object(h.a)(i)),i.changeDimension=i.changeDimension.bind(Object(h.a)(i)),i.setPreview=i.setPreview.bind(Object(h.a)(i)),i.resetPreview=i.resetPreview.bind(Object(h.a)(i)),i.playerPlacement=i.playerPlacement.bind(Object(h.a)(i)),i.createShip=i.createShip.bind(Object(h.a)(i)),i}return Object(l.a)(a,[{key:"createShip",value:function(e){var t;switch(e){case 0:t=new _(5);break;case 1:t=new _(4);break;case 2:t=new _(3);break;default:t=new _(2)}return t}},{key:"playAgain",value:function(){this.setState({human:new x("Human",new B),computer:new x("Computer",new B),gameOver:!1,turn:"Human",dimension:"horizontal",preview:{previewArray:[],isPreviewValid:null},shipsPositioned:0}),this.randomPlacement()}},{key:"changeTurn",value:function(){this.setState((function(e){return{turn:"Human"===e.turn?"Computer":"Human"}}))}},{key:"playerPlacement",value:function(){var e=this.state.preview;if(e.isPreviewValid&&5!==this.state.shipsPositioned){var t=this.createShip(this.state.shipsPositioned);t.coordinates=e.previewArray;var a=Object.assign({},this.state.human);a.playerBoard.fleet.push(t),this.setState({human:a}),this.setState((function(e){return{shipsPositioned:e.shipsPositioned+1}}))}}},{key:"randomPlacement",value:function(){for(var e=Object.assign({},this.state.computer),t=e.playerBoard.board,a=0;5!==a;){var i=t[Math.round(99*Math.random())],n=Math.round(1*Math.random());n=n?"horizontal":"vertical";var r=this.createShip(a);e.playerBoard.placeShip(r,{position:i,dimension:n}),e.playerBoard.fleet.length>a&&(a+=1)}this.setState({computer:e})}},{key:"clickHandler",value:function(e,t){var a=this,i=Object.assign({},this.state.computer);if(5===this.state.shipsPositioned){if(i.playerBoard.misses.includes(t)||i.playerBoard.hits.includes(t))return console.log("You've already picked these coordinates homes. Try different ones.");var n=e.parentElement.id;if(i.playerBoard.receiveAttack(n),this.setState({computer:i}),this.isGameOver(this.state.computer))this.setState({gameOver:!0}),console.log("game over Human guy wins");else{var r=e.parentElement.parentElement.querySelectorAll("button");this.disableButtons(r),this.changeTurn(),setTimeout((function(){a.compsTurn(a.state.human),a.enableButtons(r)}),700)}}}},{key:"compsTurn",value:function(e){for(var t=Object.assign({},e),a=Math.round(99*Math.random());t.playerBoard.misses.includes(a)||t.playerBoard.hits.includes(a);)a=Math.round(99*Math.random());var i=t.playerBoard.board[a];t.playerBoard.receiveAttack(i),this.setState({human:t}),this.isGameOver(this.state.human)?this.setState({gameOver:!0}):this.changeTurn()}},{key:"disableButtons",value:function(e){var t,a=Object(c.a)(e);try{for(a.s();!(t=a.n()).done;){t.value.setAttribute("disabled",!0)}}catch(i){a.e(i)}finally{a.f()}}},{key:"enableButtons",value:function(e){var t,a=Object(c.a)(e);try{for(a.s();!(t=a.n()).done;){t.value.removeAttribute("disabled")}}catch(i){a.e(i)}finally{a.f()}}},{key:"isGameOver",value:function(e){return e.playerBoard.isFleetSunk()}},{key:"changeDimension",value:function(){this.setState((function(e){return{dimension:"horizontal"===e.dimension?"vertical":"horizontal"}}))}},{key:"setPreview",value:function(e){if(5!==this.state.shipsPositioned){var t=this.createShip(this.state.shipsPositioned),a=e.position,i=[],n=!0;if("vertical"===e.dimension){var r=a+10*(t.length-1);r>99&&(n=!1);for(var s=a;s<=r&&(i.push(s),!(s>=99));s+=10);}else if("horizontal"===e.dimension){var o=10*(parseInt(a/10,10)+1);o-=1;var l=a+t.length-1;l>o&&(n=!1);for(var h=a;h<=l&&(i.push(h),!(h>=o));h++);}for(var u=this.state.human.playerBoard.fleet,d=0,p=i;d<p.length;d++){var m,b=p[d],v=Object(c.a)(u);try{for(v.s();!(m=v.n()).done;){m.value.coordinates.includes(b)&&(n=!1)}}catch(f){v.e(f)}finally{v.f()}}this.setState({preview:{previewArray:i,isPreviewValid:n}})}}},{key:"resetPreview",value:function(){this.setState({preview:{previewArray:[],isPreviewValid:null}})}},{key:"componentDidUpdate",value:function(){if(this.state.gameOver){var e=document.querySelectorAll(".board button");this.disableButtons(e)}}},{key:"render",value:function(){var e=this;return Object(b.jsxs)(b.Fragment,{children:[this.state.gameOver&&Object(b.jsxs)("div",{className:j.a.winnerPanel,children:[Object(b.jsxs)("h1",{children:["Winner is ",this.state.turn]}),Object(b.jsxs)("button",{onClick:function(){e.playAgain()},className:j.a.restart,children:[Object(b.jsx)(f.a,{}),"Restart"]})]}),Object(b.jsxs)("div",{className:j.a["game-container"],children:[Object(b.jsxs)("div",{className:j.a.player,children:[Object(b.jsx)(v,{title:"Human",isGameOver:this.state.gameOver,player:this.state.human,dimension:this.state.dimension,changeDimension:this.changeDimension,shipsPositioned:this.state.shipsPositioned,turn:this.state.turn}),Object(b.jsx)(S,{player:this.state.human,clickHandler:this.clickHandler,dimension:this.state.dimension,setPreview:this.setPreview,previewState:this.state.preview,resetPreview:this.resetPreview,playerPlacement:this.playerPlacement,compsTurn:this.compsTurn})]}),Object(b.jsxs)("div",{className:j.a.player,children:[Object(b.jsx)(v,{title:"Super-Computer",isGameOver:this.state.gameOver,player:this.state.computer,shipsPositioned:this.state.shipsPositioned}),Object(b.jsx)(S,{player:this.state.computer,randoPlacement:this.randomPlacement,clickHandler:this.clickHandler})]})]})]})}}]),a}(i.Component),C=a(14),H=a.n(C),N=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{className:H.a.title,children:"Battleship_"}),Object(b.jsx)("div",{className:H.a.disc_div,children:Object(b.jsx)("p",{children:"Feel the authentic thrill of the battle when you wage war on the high seas in the game of Battleship. Take charge and command your own fleet to defeat the enemy."})})]})}}]),a}(i.Component);var A=function(){return Object(b.jsxs)("div",{id:"app-container",children:[Object(b.jsx)(N,{}),Object(b.jsx)(P,{})]})},E=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,25)).then((function(t){var a=t.getCLS,i=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),i(e),n(e),r(e),s(e)}))};s.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(A,{})}),document.getElementById("root")),E()},4:function(e,t,a){e.exports={title:"playerStatus_title__KN9KP",panel:"playerStatus_panel__2XWuH",prompt:"playerStatus_prompt__3tg6X",btn:"playerStatus_btn__28vGk",pill:"playerStatus_pill__3X5_y","turn-pill":"playerStatus_turn-pill__3z9vu"}},5:function(e,t,a){e.exports={"game-board":"playerBoard_game-board__1u8TC",block:"playerBoard_block__2XyRn",btn:"playerBoard_btn__Bwbv_",ship:"playerBoard_ship__2Uiyj",miss:"playerBoard_miss__1L8LF",hit:"playerBoard_hit__GwBGl",sunk:"playerBoard_sunk__1H91D",preview:"playerBoard_preview__2RnSw"}}},[[24,1,2]]]);
//# sourceMappingURL=main.b03cec7c.chunk.js.map